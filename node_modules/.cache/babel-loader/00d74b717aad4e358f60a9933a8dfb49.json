{"ast":null,"code":"import _initializerDefineProperty from \"D:/Apprentissage/React-TS-Node/reactts/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"D:/Apprentissage/React-TS-Node/reactts/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"D:/Apprentissage/React-TS-Node/reactts/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _class, _descriptor;\nimport { makeObservable, observable, action, toJS } from 'mobx';\nimport productsServices from '../services/products.services';\nlet productStore = (_class = class productStore {\n  constructor() {\n    _initializerDefineProperty(this, \"listProducts\", _descriptor, this);\n    makeObservable(this);\n  }\n  setListProducts(products) {\n    this.listProducts = [...products];\n  }\n  addProduct(product) {\n    this.listProducts.push(product);\n  }\n  onDeleteProduct(idProduct) {\n    let newList = [...this.listProducts];\n    let index = newList.findIndex(element => element.id === idProduct);\n    console.log(\"index\", index);\n    newList.splice(index, 1);\n    this.listProducts = newList;\n  }\n  updateProduct(idProduct, newProduct) {\n    let newList = [...this.listProducts];\n    let index = newList.findIndex(element => element.id === idProduct);\n    newList[index] = newProduct;\n    this.listProducts = newList;\n  }\n  getProducts() {\n    console.log(\"from store\");\n    productsServices.getProduct().then(response => {\n      console.log(\"then\");\n      if (response.status == 200) {\n        console.log(\"data\", response.data.data);\n        this.listProducts = toJS(response.data.data);\n      }\n    });\n  }\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"listProducts\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setListProducts\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setListProducts\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addProduct\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"addProduct\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleteProduct\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleteProduct\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProduct\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProduct\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getProducts\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"getProducts\"), _class.prototype)), _class);\nexport default productStore;","map":{"version":3,"names":["makeObservable","observable","action","toJS","productsServices","productStore","constructor","setListProducts","products","listProducts","addProduct","product","push","onDeleteProduct","idProduct","newList","index","findIndex","element","id","console","log","splice","updateProduct","newProduct","getProducts","getProduct","then","response","status","data"],"sources":["D:/Apprentissage/React-TS-Node/reactts/src/store/productStore.ts"],"sourcesContent":["\r\n\r\nimport { makeObservable, observable, computed, action, toJS } from 'mobx';\r\nimport productsServices from '../services/products.services';\r\nexport interface Product {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  description: string;\r\n  published: number;\r\n  sizeId: number;\r\n}\r\n\r\nclass productStore {\r\n  @observable listProducts :Array<Product> = [];\r\n\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n  \r\n  @action setListProducts(products:Array<Product>){\r\n  this.listProducts=[...products]\r\n  }\r\n  @action addProduct(product:Product){\r\n    this.listProducts.push(product)\r\n  }\r\n  @action onDeleteProduct(idProduct:number){\r\n    let newList=[...this.listProducts]\r\n    let index= newList.findIndex((element:Product)=>element.id===idProduct)\r\n    console.log(\"index\",index)\r\n    newList.splice(index,1)\r\n    this.listProducts=newList\r\n  }\r\n\r\n  \r\n\r\n  @action updateProduct(idProduct:number,newProduct:Product){\r\n    let newList=[...this.listProducts]\r\n    let index =newList.findIndex((element:Product)=>element.id===idProduct)\r\n    newList[index]=newProduct\r\n    this.listProducts=newList\r\n\r\n  }\r\n\r\n  @action  getProducts () {\r\n    console.log(\"from store\")\r\n    productsServices.getProduct().then((response:any)=>{\r\n      console.log(\"then\")\r\n      if (response.status== 200){\r\n        console.log(\"data\",response.data.data)\r\n        this.listProducts=toJS(response.data.data)\r\n       }\r\n    })\r\n     }\r\n}\r\nexport default productStore;\r\n"],"mappings":";;;;AAEA,SAASA,cAAc,EAAEC,UAAU,EAAYC,MAAM,EAAEC,IAAI,QAAQ,MAAM;AACzE,OAAOC,gBAAgB,MAAM,+BAA+B;AAAC,IAUvDC,YAAY,aAAlB,MAAMA,YAAY,CAAC;EAGjBC,WAAW,GAAG;IAAA;IACZN,cAAc,CAAC,IAAI,CAAC;EACtB;EAEQO,eAAe,CAACC,QAAuB,EAAC;IAChD,IAAI,CAACC,YAAY,GAAC,CAAC,GAAGD,QAAQ,CAAC;EAC/B;EACQE,UAAU,CAACC,OAAe,EAAC;IACjC,IAAI,CAACF,YAAY,CAACG,IAAI,CAACD,OAAO,CAAC;EACjC;EACQE,eAAe,CAACC,SAAgB,EAAC;IACvC,IAAIC,OAAO,GAAC,CAAC,GAAG,IAAI,CAACN,YAAY,CAAC;IAClC,IAAIO,KAAK,GAAED,OAAO,CAACE,SAAS,CAAEC,OAAe,IAAGA,OAAO,CAACC,EAAE,KAAGL,SAAS,CAAC;IACvEM,OAAO,CAACC,GAAG,CAAC,OAAO,EAACL,KAAK,CAAC;IAC1BD,OAAO,CAACO,MAAM,CAACN,KAAK,EAAC,CAAC,CAAC;IACvB,IAAI,CAACP,YAAY,GAACM,OAAO;EAC3B;EAIQQ,aAAa,CAACT,SAAgB,EAACU,UAAkB,EAAC;IACxD,IAAIT,OAAO,GAAC,CAAC,GAAG,IAAI,CAACN,YAAY,CAAC;IAClC,IAAIO,KAAK,GAAED,OAAO,CAACE,SAAS,CAAEC,OAAe,IAAGA,OAAO,CAACC,EAAE,KAAGL,SAAS,CAAC;IACvEC,OAAO,CAACC,KAAK,CAAC,GAACQ,UAAU;IACzB,IAAI,CAACf,YAAY,GAACM,OAAO;EAE3B;EAESU,WAAW,GAAI;IACtBL,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;IACzBjB,gBAAgB,CAACsB,UAAU,EAAE,CAACC,IAAI,CAAEC,QAAY,IAAG;MACjDR,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,IAAIO,QAAQ,CAACC,MAAM,IAAG,GAAG,EAAC;QACxBT,OAAO,CAACC,GAAG,CAAC,MAAM,EAACO,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;QACtC,IAAI,CAACrB,YAAY,GAACN,IAAI,CAACyB,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;MAC3C;IACH,CAAC,CAAC;EACD;AACL,CAAC,8EAxCE7B,UAAU;EAAA;EAAA;EAAA;EAAA;IAAA,OAAgC,EAAE;EAAA;AAAA,oEAM5CC,MAAM,uJAGNA,MAAM,uJAGNA,MAAM,0JAUNA,MAAM,sJAQNA,MAAM;AAWT,eAAeG,YAAY"},"metadata":{},"sourceType":"module"}