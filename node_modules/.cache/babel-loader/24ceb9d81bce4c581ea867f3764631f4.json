{"ast":null,"code":"import productsServices from \"../services/products.services\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { configureStore } from \"@reduxjs/toolkit\";\nconst productSlice = createSlice({\n  name: \"product\",\n  initialState: {\n    listProducts: [],\n    loader: false\n  },\n  reducers: {\n    setListProducts(state, action) {\n      state.listProducts = action.payload;\n    },\n    addProduct(state, action) {\n      state.listProducts.push(action.payload);\n    },\n    onDeleteProduct(state, action) {\n      let newList = [...listProducts];\n      let index = newList.findIndex(element => element.id === action.payload);\n      newList.splice(index, 1);\n      listProducts = newList;\n    },\n    updateProduct2(state, action) {\n      let newList = [...listProducts];\n      let index = newList.findIndex(element => element.id === action.payload.id);\n      newList[index] = action.payload.newProduct;\n      listProducts = newList;\n    },\n    getProducts(state) {\n      productsServices.getProduct().then(response => {\n        if (response.status == 200) {\n          console.log(\"data\", response.data.data);\n          listProducts = response.data.data;\n        }\n      });\n    }\n  }\n});\nexport const {\n  setListProducts,\n  addProduct,\n  onDeleteProduct,\n  updateProduct2,\n  getProducts\n} = productSlice.actions;\nexport const store = configureStore({\n  reducer: {\n    product: productSlice.reducer\n  }\n});\n\n/* export const setListProducts = (listProducts: Array<Product>) =>{\r\n  return {\r\n    type : \"product/setListProducts\",\r\n    payload : listProducts\r\n  }\r\n}\r\n\r\nexport const addProduct = (product: Product) =>{\r\n  return {\r\n    type : \"product/addProduct\",\r\n    payload : product\r\n  }\r\n} \r\nexport const onDeleteProduct = (id:number) =>{\r\n  return {\r\n    type : \"product/onDeleteProduct\",\r\n    payload : id\r\n  }\r\n} \r\nexport const updateProduct = (id:number, newProduct: Product) =>{\r\n  return {\r\n    type : \"product/updateProduct\",\r\n    payload : id,newProduct\r\n    \r\n  }\r\n} \r\nexport const getProducts = () =>{\r\n  return {\r\n    type : \"product/getProducts\",\r\n  }\r\n}  */","map":{"version":3,"names":["productsServices","createSlice","configureStore","productSlice","name","initialState","listProducts","loader","reducers","setListProducts","state","action","payload","addProduct","push","onDeleteProduct","newList","index","findIndex","element","id","splice","updateProduct2","newProduct","getProducts","getProduct","then","response","status","console","log","data","actions","store","reducer","product"],"sources":["D:/Apprentissage/React-Redux-TS-Node/reactts/src/store/productStore.ts"],"sourcesContent":["import productsServices from \"../services/products.services\";\r\nimport { Product } from \"../interfaces/product\";\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nconst productSlice = createSlice({\r\n  name: \"product\",\r\n  initialState: {\r\n    listProducts: [\r\n    ],\r\n    loader: false,\r\n  },\r\n  reducers: {\r\n    setListProducts(state, action: PayloadAction<Array<any>>) {\r\n      state.listProducts = action.payload;\r\n    },\r\n\r\n    addProduct(state, action: PayloadAction<Product>) {\r\n      state.listProducts.push(action.payload);\r\n    },\r\n\r\n    onDeleteProduct(state, action: PayloadAction<number>) {\r\n      let newList = [...listProducts];\r\n      let index = newList.findIndex(\r\n        (element: Product) => element.id === action.payload\r\n      );\r\n      newList.splice(index, 1);\r\n      listProducts = newList;\r\n    },\r\n\r\n    updateProduct2(\r\n      state,\r\n      action: PayloadAction<{ id: number; newProduct: Product }>\r\n    ) {\r\n      let newList = [...listProducts];\r\n      let index = newList.findIndex(\r\n        (element: Product) => element.id === action.payload.id\r\n      );\r\n\r\n      newList[index] = action.payload.newProduct;\r\n      listProducts = newList;\r\n    },\r\n\r\n    getProducts(state) {\r\n      productsServices.getProduct().then((response: any) => {\r\n        if (response.status == 200) {\r\n          console.log(\"data\", response.data.data);\r\n          listProducts = response.data.data;\r\n        }\r\n      });\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setListProducts,\r\n  addProduct,\r\n  onDeleteProduct,\r\n  updateProduct2,\r\n  getProducts,\r\n} = productSlice.actions;\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    product: productSlice.reducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\n/* export const setListProducts = (listProducts: Array<Product>) =>{\r\n  return {\r\n    type : \"product/setListProducts\",\r\n    payload : listProducts\r\n  }\r\n}\r\n\r\nexport const addProduct = (product: Product) =>{\r\n  return {\r\n    type : \"product/addProduct\",\r\n    payload : product\r\n  }\r\n} \r\nexport const onDeleteProduct = (id:number) =>{\r\n  return {\r\n    type : \"product/onDeleteProduct\",\r\n    payload : id\r\n  }\r\n} \r\nexport const updateProduct = (id:number, newProduct: Product) =>{\r\n  return {\r\n    type : \"product/updateProduct\",\r\n    payload : id,newProduct\r\n    \r\n  }\r\n} \r\nexport const getProducts = () =>{\r\n  return {\r\n    type : \"product/getProducts\",\r\n  }\r\n}  */\r\n"],"mappings":"AAAA,OAAOA,gBAAgB,MAAM,+BAA+B;AAE5D,SAASC,WAAW,QAAuB,kBAAkB;AAC7D,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,MAAMC,YAAY,GAAGF,WAAW,CAAC;EAC/BG,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE;IACZC,YAAY,EAAE,EACb;IACDC,MAAM,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE;IACRC,eAAe,CAACC,KAAK,EAAEC,MAAiC,EAAE;MACxDD,KAAK,CAACJ,YAAY,GAAGK,MAAM,CAACC,OAAO;IACrC,CAAC;IAEDC,UAAU,CAACH,KAAK,EAAEC,MAA8B,EAAE;MAChDD,KAAK,CAACJ,YAAY,CAACQ,IAAI,CAACH,MAAM,CAACC,OAAO,CAAC;IACzC,CAAC;IAEDG,eAAe,CAACL,KAAK,EAAEC,MAA6B,EAAE;MACpD,IAAIK,OAAO,GAAG,CAAC,GAAGV,YAAY,CAAC;MAC/B,IAAIW,KAAK,GAAGD,OAAO,CAACE,SAAS,CAC1BC,OAAgB,IAAKA,OAAO,CAACC,EAAE,KAAKT,MAAM,CAACC,OAAO,CACpD;MACDI,OAAO,CAACK,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;MACxBX,YAAY,GAAGU,OAAO;IACxB,CAAC;IAEDM,cAAc,CACZZ,KAAK,EACLC,MAA0D,EAC1D;MACA,IAAIK,OAAO,GAAG,CAAC,GAAGV,YAAY,CAAC;MAC/B,IAAIW,KAAK,GAAGD,OAAO,CAACE,SAAS,CAC1BC,OAAgB,IAAKA,OAAO,CAACC,EAAE,KAAKT,MAAM,CAACC,OAAO,CAACQ,EAAE,CACvD;MAEDJ,OAAO,CAACC,KAAK,CAAC,GAAGN,MAAM,CAACC,OAAO,CAACW,UAAU;MAC1CjB,YAAY,GAAGU,OAAO;IACxB,CAAC;IAEDQ,WAAW,CAACd,KAAK,EAAE;MACjBV,gBAAgB,CAACyB,UAAU,EAAE,CAACC,IAAI,CAAEC,QAAa,IAAK;QACpD,IAAIA,QAAQ,CAACC,MAAM,IAAI,GAAG,EAAE;UAC1BC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,QAAQ,CAACI,IAAI,CAACA,IAAI,CAAC;UACvCzB,YAAY,GAAGqB,QAAQ,CAACI,IAAI,CAACA,IAAI;QACnC;MACF,CAAC,CAAC;IACJ;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EACXtB,eAAe;EACfI,UAAU;EACVE,eAAe;EACfO,cAAc;EACdE;AACF,CAAC,GAAGrB,YAAY,CAAC6B,OAAO;AAExB,OAAO,MAAMC,KAAK,GAAG/B,cAAc,CAAC;EAClCgC,OAAO,EAAE;IACPC,OAAO,EAAEhC,YAAY,CAAC+B;EACxB;AACF,CAAC,CAAC;;AAKF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}